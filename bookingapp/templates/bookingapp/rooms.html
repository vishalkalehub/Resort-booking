{% extends 'bookingapp/base.html' %}
{% load static %}

{% block content %}

<h2 class="text-center mb-5 fade-in">Our Luxury Rooms</h2>

<div class="row g-4">

    {% for room in rooms %}
    <div class="col-md-4 fade-in">

        <div class="room-card">

            <!-- Room Image -->
            <div class="room-img-wrapper">
                {% if room.image %}
                    <img src="{{ room.image.url }}" class="room-img">
                {% else %}
                    <img src="{% static 'images/room1.jpg' %}" class="room-img">
                {% endif %}

                <!-- Price Badge -->
                <div class="price-badge">
                    â‚¹{{ room.price_per_night }} / night
                </div>
            </div>

            <!-- Room Details -->
            <div class="room-content">
                <h5 class="fw-bold">{{ room.get_room_type_display }}</h5>
                <p class="text-muted small">
                    {{ room.description|truncatewords:18 }}
                </p>

                <div class="d-flex justify-content-between align-items-center mt-3">
                    <span class="badge bg-light text-dark">
                        ðŸ‘¥ Capacity: {{ room.capacity }}
                    </span>

                    <a href="{% url 'room_detail' room.id %}"
                       class="btn btn-success btn-sm rounded-pill px-3">
                        View Details
                    </a>
                </div>
            </div>

        </div>

    </div>
    {% empty %}
    <div class="col-12 text-center text-muted">
        No rooms available.
    </div>
    {% endfor %}

</div>

<style>
.room-card {
    background: #fff;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 15px 30px rgba(0,0,0,0.08);
    transition: 0.4s ease;
}

.room-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 45px rgba(0,0,0,0.15);
}

.room-img-wrapper {
    position: relative;
    overflow: hidden;
}

.room-img {
    width: 100%;
    height: 250px;
    object-fit: cover;
    transition: 0.5s ease;
}

.room-card:hover .room-img {
    transform: scale(1.1);
}

.price-badge {
    position: absolute;
    bottom: 15px;
    left: 15px;
    background: rgba(0,0,0,0.75);
    color: white;
    padding: 6px 14px;
    border-radius: 50px;
    font-size: 14px;
}

.room-content {
    padding: 20px;
}
</style>

{% endblock %}